{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  selectedProducts: localStorage.getItem(\"selectedProducts\") ? JSON.parse(localStorage.getItem(\"selectedProducts\")) : [],\n  selectedProductsID: localStorage.getItem(\"selectedProductsID\") ? JSON.parse(localStorage.getItem(\"selectedProductsID\")) : []\n};\nexport const counterSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const productWithQuantity = {\n        ...action.payload,\n        quantity: 1\n      };\n      state.selectedProducts.push(productWithQuantity);\n      state.selectedProductsID.push(action.payload.id);\n      localStorage.setItem(\"selectedProducts\", JSON.stringify(state.selectedProducts));\n      localStorage.setItem(\"selectedProductsID\", JSON.stringify(state.selectedProductsID));\n    },\n    increaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find(item => {\n        return item.id === action.payload.id;\n      });\n      incresdedProuct.quantity += 1;\n      localStorage.setItem(\"selectedProducts\", JSON.stringify(state.selectedProducts));\n    },\n    decreaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find(item => {\n        return item.id === action.payload.id;\n      });\n      incresdedProuct.quantity -= 1;\n      if (incresdedProuct.quantity === 0) {\n        // delete the selected product\n        const newArr = state.selectedProducts.filter(item => {\n          return item.id !== action.payload.id;\n        });\n        const newArr2 = state.selectedProductsID.filter(item => {\n          return item !== action.payload.id;\n        });\n        state.selectedProducts = newArr;\n        state.selectedProductsID = newArr2;\n        localStorage.setItem(\"selectedProductsID\", JSON.stringify(state.selectedProductsID));\n      }\n    },\n    deleteProduct: (state, action) => {\n      // action.payload => product From user\n      // delete the selected product\n      const newArr = state.selectedProducts.filter(item => {\n        return item.id !== action.payload.id;\n      });\n      const newArr2 = state.selectedProductsID.filter(item => {\n        return item !== action.payload.id;\n      });\n      state.selectedProducts = newArr;\n      state.selectedProductsID = newArr2;\n      localStorage.setItem(\"selectedProducts\", JSON.stringify(state.selectedProducts));\n      localStorage.setItem(\"selectedProductsID\", JSON.stringify(state.selectedProductsID));\n    }\n  }\n});\nexport const {\n  deleteProduct,\n  addToCart,\n  increaseQuantity,\n  decreaseQuantity\n} = counterSlice.actions;\nexport default counterSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","selectedProducts","localStorage","getItem","JSON","parse","selectedProductsID","counterSlice","name","reducers","addToCart","state","action","productWithQuantity","payload","quantity","push","id","setItem","stringify","increaseQuantity","incresdedProuct","find","item","decreaseQuantity","newArr","filter","newArr2","deleteProduct","actions","reducer"],"sources":["D:/aliihassan project/matrial ul/Folder/Online store/online/online-store/front-end/src/Redux/CartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n  selectedProducts: localStorage.getItem(\"selectedProducts\") ?\r\n  JSON.parse(localStorage.getItem(\"selectedProducts\"))\r\n    : [],\r\n  selectedProductsID: localStorage.getItem(\"selectedProductsID\")\r\n    ? JSON.parse(localStorage.getItem(\"selectedProductsID\"))\r\n    : [],\r\n};\r\n\r\nexport const counterSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  \r\n  reducers: {\r\n    addToCart: (state, action) => {\r\n   \r\n      const productWithQuantity = { ...action.payload, quantity: 1 };\r\n      state.selectedProducts.push(productWithQuantity);\r\n      state.selectedProductsID.push(action.payload.id);\r\n\r\n      localStorage.setItem(\r\n        \"selectedProducts\",\r\n        JSON.stringify(state.selectedProducts)\r\n      );\r\n      localStorage.setItem(\r\n        \"selectedProductsID\",\r\n        JSON.stringify(state.selectedProductsID)\r\n      );\r\n    },\r\n\r\n    increaseQuantity: (state, action) => {\r\n      // action.payload => product From user\r\n      const incresdedProuct = state.selectedProducts.find((item) => {\r\n        return item.id === action.payload.id;\r\n      });\r\n\r\n      incresdedProuct.quantity += 1;\r\n\r\n      localStorage.setItem(\"selectedProducts\",JSON.stringify(state.selectedProducts))\r\n    },\r\n\r\n    decreaseQuantity: (state, action) => {\r\n      // action.payload => product From user\r\n      const incresdedProuct = state.selectedProducts.find((item) => {\r\n        return item.id === action.payload.id;\r\n      });\r\n\r\n      incresdedProuct.quantity -= 1;\r\n  \r\n      if (incresdedProuct.quantity === 0) {\r\n        // delete the selected product\r\n        const newArr = state.selectedProducts.filter((item) => {\r\n          return item.id !== action.payload.id;\r\n        });\r\n\r\n        const newArr2 = state.selectedProductsID.filter((item) => {\r\n          return item !== action.payload.id;\r\n        });\r\n\r\n        state.selectedProducts = newArr;\r\n        state.selectedProductsID = newArr2;\r\n        localStorage.setItem(\"selectedProductsID\",JSON.stringify(state.selectedProductsID))\r\n      }\r\n    },\r\n\r\n    deleteProduct: (state, action) => {\r\n      // action.payload => product From user\r\n      // delete the selected product\r\n      const newArr = state.selectedProducts.filter((item) => {\r\n        return item.id !== action.payload.id;\r\n      });\r\n\r\n      const newArr2 = state.selectedProductsID.filter((item) => {\r\n        return item !== action.payload.id;\r\n      });\r\n\r\n      state.selectedProducts = newArr;\r\n      state.selectedProductsID = newArr2;\r\n\r\n      localStorage.setItem(\"selectedProducts\",JSON.stringify(state.selectedProducts))\r\n      localStorage.setItem(\"selectedProductsID\",JSON.stringify(state.selectedProductsID))\r\n    },\r\n  },\r\n});\r\n\r\n\r\nexport const { deleteProduct, addToCart, increaseQuantity, decreaseQuantity } =\r\n  counterSlice.actions;\r\n\r\nexport default counterSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}